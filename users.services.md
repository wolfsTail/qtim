## UsersService

Cервис, предоставляющий логику для управления пользователями в приложении при взаимодействии с БД, включая создание, обновление и аутентификацию пользователей.

### Методы

### `createUser`
- **Параметры**: `CreateUserDto`
- **Возвращает**: `Promise<PhoneConfirmation>`
- **Описание**: Создаёт нового пользователя и инициирует процесс подтверждения телефона.

### `updateUser`
- **Параметры**: `userId`, `UpdateUserDto`
- **Возвращает**: `Promise<UserEntity>`
- **Описание**: Обновляет данные существующего пользователя.

### `updatePhone`
- **Параметры**: `userId`, `phone`
- **Возвращает**: `Promise<UserEntity>`
- **Описание**: Обновляет телефонный номер пользователя и инициирует отправку SMS для подтверждения.

### `confirmPhone`
- **Параметры**: `phone`, `code`
- **Возвращает**: `Promise<{accessToken, refreshToken}>`
- **Описание**: Подтверждает телефонный номер и активирует пользователя, возвращая токены доступа.

### `sendPhoneConfirmation`
- **Параметры**: `userId`, `phone`
- **Возвращает**: `Promise<PhoneConfirmation>`
- **Описание**: Создаёт или обновляет запрос на подтверждение телефона, отправляя код подтверждения.

### `getProfile`
- **Параметры**: `UserPayloadInterface`
- **Возвращает**: `Promise<object>`
- **Описание**: Возвращает профиль пользователя, включая информацию о текущей компании, если доступна.

### `findOneById`
- **Параметры**: `id`
- **Возвращает**: `Promise<UserEntity>`
- **Описание**: Ищет пользователя по уникальному идентификатору.

### `findOneByPhone`
- **Параметры**: `phone`
- **Возвращает**: `Promise<UserEntity>`
- **Описание**: Ищет пользователя по телефонному номеру.

### Репозитории

- `userRepository`: Для операций с сущностью `UserEntity`.
- `phoneConfirmationRepository`: Для операций с сущностью `PhoneConfirmation`.

### Взаимодействие с другими сервисами

- `CryptoService`: Генерирует коды для подтверждения мобильного телефона.
- `AuthService`: Управляет аутентификацией и выдачей токенов.
- `CompanyService`: Управляет данными о компаниях, связанных с пользователями.
